var Pe=Object.defineProperty;var Fe=(k,t,a)=>t in k?Pe(k,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):k[t]=a;var H=(k,t,a)=>(Fe(k,typeof t!="symbol"?t+"":t,a),a);import{d as W,j as Be,o as T,a as B,F as K,t as $,x as Re,p as Oe,i as se,aj as Ae,ak as je,c as J,u as Ne,B as De,b as _,v as ne,f as E,e as ie,g as oe,l as Le,h as Ge}from"../../assets/index-Jf8bmGHu.js";var Q={};(function k(t,a,c,y){var m=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),x=typeof Path2D=="function"&&typeof DOMMatrix=="function",D=function(){if(!t.OffscreenCanvas)return!1;var r=new OffscreenCanvas(1,1),e=r.getContext("2d");e.fillRect(0,0,1,1);var n=r.transferToImageBitmap();try{e.createPattern(n,"no-repeat")}catch{return!1}return!0}();function j(){}function S(r){var e=a.exports.Promise,n=e!==void 0?e:t.Promise;return typeof n=="function"?new n(r):(r(j,j),null)}var b=function(r,e){return{transform:function(n){if(r)return n;if(e.has(n))return e.get(n);var s=new OffscreenCanvas(n.width,n.height),o=s.getContext("2d");return o.drawImage(n,0,0),e.set(n,s),s},clear:function(){e.clear()}}}(D,new Map),L=function(){var r=Math.floor(16.666666666666668),e,n,s={},o=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(l){var u=Math.random();return s[u]=requestAnimationFrame(function i(d){o===d||o+r-1<d?(o=d,delete s[u],l()):s[u]=requestAnimationFrame(i)}),u},n=function(l){s[l]&&cancelAnimationFrame(s[l])}):(e=function(l){return setTimeout(l,r)},n=function(l){return clearTimeout(l)}),{frame:e,cancel:n}}(),z=function(){var r,e,n={};function s(o){function l(u,i){o.postMessage({options:u||{},callback:i})}o.init=function(i){var d=i.transferControlToOffscreen();o.postMessage({canvas:d},[d])},o.fire=function(i,d,f){if(e)return l(i,null),e;var p=Math.random().toString(36).slice(2);return e=S(function(v){function M(w){w.data.callback===p&&(delete n[p],o.removeEventListener("message",M),e=null,b.clear(),f(),v())}o.addEventListener("message",M),l(i,p),n[p]=M.bind(null,{data:{callback:p}})}),e},o.reset=function(){o.postMessage({reset:!0});for(var i in n)n[i](),delete n[i]}}return function(){if(r)return r;if(!c&&m){var o=["var CONFETTI, SIZE = {}, module = {};","("+k.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{r=new Worker(URL.createObjectURL(new Blob([o])))}catch(l){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",l),null}s(r)}return r}}(),O={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function V(r,e){return e?e(r):r}function N(r){return r!=null}function g(r,e,n){return V(r&&N(r[e])?r[e]:O[e],n)}function G(r){return r<0?0:Math.floor(r)}function le(r,e){return Math.floor(Math.random()*(e-r))+r}function U(r){return parseInt(r,16)}function ce(r){return r.map(ue)}function ue(r){var e=String(r).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:U(e.substring(0,2)),g:U(e.substring(2,4)),b:U(e.substring(4,6))}}function de(r){var e=g(r,"origin",Object);return e.x=g(e,"x",Number),e.y=g(e,"y",Number),e}function he(r){r.width=document.documentElement.clientWidth,r.height=document.documentElement.clientHeight}function fe(r){var e=r.getBoundingClientRect();r.width=e.width,r.height=e.height}function me(r){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=r,e}function ve(r,e,n,s,o,l,u,i,d){r.save(),r.translate(e,n),r.rotate(l),r.scale(s,o),r.arc(0,0,1,u,i,d),r.restore()}function ge(r){var e=r.angle*(Math.PI/180),n=r.spread*(Math.PI/180);return{x:r.x,y:r.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:r.startVelocity*.5+Math.random()*r.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:r.color,shape:r.shape,tick:0,totalTicks:r.ticks,decay:r.decay,drift:r.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:r.gravity*3,ovalScalar:.6,scalar:r.scalar,flat:r.flat}}function pe(r,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var n=e.tick++/e.totalTicks,s=e.x+e.random*e.tiltCos,o=e.y+e.random*e.tiltSin,l=e.wobbleX+e.random*e.tiltCos,u=e.wobbleY+e.random*e.tiltSin;if(r.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",r.beginPath(),x&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))r.fill(ye(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(l-s)*.1,Math.abs(u-o)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var i=Math.PI/10*e.wobble,d=Math.abs(l-s)*.1,f=Math.abs(u-o)*.1,p=e.shape.bitmap.width*e.scalar,v=e.shape.bitmap.height*e.scalar,M=new DOMMatrix([Math.cos(i)*d,Math.sin(i)*d,-Math.sin(i)*f,Math.cos(i)*f,e.x,e.y]);M.multiplySelf(new DOMMatrix(e.shape.matrix));var w=r.createPattern(b.transform(e.shape.bitmap),"no-repeat");w.setTransform(M),r.globalAlpha=1-n,r.fillStyle=w,r.fillRect(e.x-p/2,e.y-v/2,p,v),r.globalAlpha=1}else if(e.shape==="circle")r.ellipse?r.ellipse(e.x,e.y,Math.abs(l-s)*e.ovalScalar,Math.abs(u-o)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):ve(r,e.x,e.y,Math.abs(l-s)*e.ovalScalar,Math.abs(u-o)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var h=Math.PI/2*3,C=4*e.scalar,I=8*e.scalar,P=e.x,R=e.y,A=5,F=Math.PI/A;A--;)P=e.x+Math.cos(h)*I,R=e.y+Math.sin(h)*I,r.lineTo(P,R),h+=F,P=e.x+Math.cos(h)*C,R=e.y+Math.sin(h)*C,r.lineTo(P,R),h+=F;else r.moveTo(Math.floor(e.x),Math.floor(e.y)),r.lineTo(Math.floor(e.wobbleX),Math.floor(o)),r.lineTo(Math.floor(l),Math.floor(u)),r.lineTo(Math.floor(s),Math.floor(e.wobbleY));return r.closePath(),r.fill(),e.tick<e.totalTicks}function Me(r,e,n,s,o){var l=e.slice(),u=r.getContext("2d"),i,d,f=S(function(p){function v(){i=d=null,u.clearRect(0,0,s.width,s.height),b.clear(),o(),p()}function M(){c&&!(s.width===y.width&&s.height===y.height)&&(s.width=r.width=y.width,s.height=r.height=y.height),!s.width&&!s.height&&(n(r),s.width=r.width,s.height=r.height),u.clearRect(0,0,s.width,s.height),l=l.filter(function(w){return pe(u,w)}),l.length?i=L.frame(M):v()}i=L.frame(M),d=v});return{addFettis:function(p){return l=l.concat(p),f},canvas:r,promise:f,reset:function(){i&&L.cancel(i),d&&d()}}}function X(r,e){var n=!r,s=!!g(e||{},"resize"),o=!1,l=g(e,"disableForReducedMotion",Boolean),u=m&&!!g(e||{},"useWorker"),i=u?z():null,d=n?he:fe,f=r&&i?!!r.__confetti_initialized:!1,p=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,v;function M(h,C,I){for(var P=g(h,"particleCount",G),R=g(h,"angle",Number),A=g(h,"spread",Number),F=g(h,"startVelocity",Number),xe=g(h,"decay",Number),Ce=g(h,"gravity",Number),ke=g(h,"drift",Number),ee=g(h,"colors",ce),_e=g(h,"ticks",Number),re=g(h,"shapes"),Ee=g(h,"scalar"),Te=!!g(h,"flat"),te=de(h),ae=P,q=[],Se=r.width*te.x,Ie=r.height*te.y;ae--;)q.push(ge({x:Se,y:Ie,angle:R,spread:A,startVelocity:F,color:ee[ae%ee.length],shape:re[le(0,re.length)],ticks:_e,decay:xe,gravity:Ce,drift:ke,scalar:Ee,flat:Te}));return v?v.addFettis(q):(v=Me(r,q,d,C,I),v.promise)}function w(h){var C=l||g(h,"disableForReducedMotion",Boolean),I=g(h,"zIndex",Number);if(C&&p)return S(function(F){F()});n&&v?r=v.canvas:n&&!r&&(r=me(I),document.body.appendChild(r)),s&&!f&&d(r);var P={width:r.width,height:r.height};i&&!f&&i.init(r),f=!0,i&&(r.__confetti_initialized=!0);function R(){if(i){var F={getBoundingClientRect:function(){if(!n)return r.getBoundingClientRect()}};d(F),i.postMessage({resize:{width:F.width,height:F.height}});return}P.width=P.height=null}function A(){v=null,s&&(o=!1,t.removeEventListener("resize",R)),n&&r&&(document.body.removeChild(r),r=null,f=!1)}return s&&!o&&(o=!0,t.addEventListener("resize",R,!1)),i?i.fire(h,P,A):M(h,P,A)}return w.reset=function(){i&&i.reset(),v&&v.reset()},w}var Z;function Y(){return Z||(Z=X(null,{useWorker:!0,resize:!0})),Z}function ye(r,e,n,s,o,l,u){var i=new Path2D(r),d=new Path2D;d.addPath(i,new DOMMatrix(e));var f=new Path2D;return f.addPath(d,new DOMMatrix([Math.cos(u)*o,Math.sin(u)*o,-Math.sin(u)*l,Math.cos(u)*l,n,s])),f}function be(r){if(!x)throw new Error("path confetti are not supported in this browser");var e,n;typeof r=="string"?e=r:(e=r.path,n=r.matrix);var s=new Path2D(e),o=document.createElement("canvas"),l=o.getContext("2d");if(!n){for(var u=1e3,i=u,d=u,f=0,p=0,v,M,w=0;w<u;w+=2)for(var h=0;h<u;h+=2)l.isPointInPath(s,w,h,"nonzero")&&(i=Math.min(i,w),d=Math.min(d,h),f=Math.max(f,w),p=Math.max(p,h));v=f-i,M=p-d;var C=10,I=Math.min(C/v,C/M);n=[I,0,0,I,-Math.round(v/2+i)*I,-Math.round(M/2+d)*I]}return{type:"path",path:e,matrix:n}}function we(r){var e,n=1,s="#000000",o='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof r=="string"?e=r:(e=r.text,n="scalar"in r?r.scalar:n,o="fontFamily"in r?r.fontFamily:o,s="color"in r?r.color:s);var l=10*n,u=""+l+"px "+o,i=new OffscreenCanvas(l,l),d=i.getContext("2d");d.font=u;var f=d.measureText(e),p=Math.ceil(f.actualBoundingBoxRight+f.actualBoundingBoxLeft),v=Math.ceil(f.actualBoundingBoxAscent+f.actualBoundingBoxDescent),M=2,w=f.actualBoundingBoxLeft+M,h=f.actualBoundingBoxAscent+M;p+=M+M,v+=M+M,i=new OffscreenCanvas(p,v),d=i.getContext("2d"),d.font=u,d.fillStyle=s,d.fillText(e,w,h);var C=1/n;return{type:"bitmap",bitmap:i.transferToImageBitmap(),matrix:[C,0,0,C,-p*C/2,-v*C/2]}}a.exports=function(){return Y().apply(this,arguments)},a.exports.reset=function(){Y().reset()},a.exports.create=X,a.exports.shapeFromPath=be,a.exports.shapeFromText=we})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Q,!1);const $e=Q.exports;Q.exports.create;const We={id:"fireworks",class:"fixed top-0 z--1 h-100vh w-100vw"},ze=W({name:"Fireworks",__name:"index",props:{passed:{type:Boolean}},setup(k){const t=k;function a(){const c=document.getElementById("fireworks");$e.create(c,{resize:!0,useWorker:!0})({particleCount:100,spread:70,origin:{y:.6}})}return Be(()=>t.passed,c=>{setTimeout(()=>{a()},100)},{flush:"post"}),(c,y)=>(T(),B("canvas",We))}}),Ve={key:0},Ue={key:0},Ze={key:1,"font-bold":""},qe=W({name:"MineBlock",__name:"MineBlock",props:{block:{},isDev:{type:Boolean}},setup(k){const t=["text-trans","text-red-500","text-blue-500","text-yellow-500","text-purple-500","text-pink-500","text-orange-500","text-teal-500"];function a(c){return c.revealed?c.mine?"bg-red/50":t[c.adjacentMines]:"bg-gray/50 hover:bg-gray/10"}return(c,y)=>(T(),B("button",{m:"0.5","h-10":"","w-10":"",flex:"","items-center":"","justify-center":"",border:"",class:Oe(a(c.block))},[c.block.flagged?(T(),B("div",Ve," ðŸš© ")):c.block.revealed||c.isDev?(T(),B(K,{key:1},[c.block.mine?(T(),B("div",Ue," ðŸ’£ ")):(T(),B("div",Ze,$(c.block.adjacentMines||""),1))],64)):Re("",!0)],2))}});class He{constructor(t,a,c){H(this,"state",se());H(this,"directions",[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]]);this.width=t,this.height=a,this.mines=c,this.reset()}get board(){return this.state.value.board}get blocks(){return this.state.value.board.flat()}reset(t=this.width,a=this.height,c=this.mines){this.width=t,this.height=a,this.mines=c,this.state.value={board:Array.from({length:this.height},(y,m)=>Array.from({length:this.width},(x,D)=>({x:D,y:m,adjacentMines:0,revealed:!1}))),gameState:"play",mineGenerate:!1,startTime:+Date.now()}}random(t,a){return Math.random()*(a-t)+t}randomInt(t,a){return Math.round(this.random(t,a))}generateMines(t,a){const c=()=>{const y=this.randomInt(0,this.width-1),m=this.randomInt(0,this.height-1),x=t[m][y];return Math.abs(a.x-x.x)<=1&&Math.abs(a.y-x.y)<=1||x.mine?!1:(x.mine=!0,!0)};Array.from({length:this.mines}).forEach(()=>{for(;!c(););}),this.updateNumbers(t)}updateNumbers(t){t.forEach(a=>{a.forEach(c=>{c.mine||this.getSiblings(c).forEach(y=>{y.mine&&c.adjacentMines++})})})}getSiblings(t){return this.directions.map(([a,c])=>{const y=t.x+a,m=t.y+c;if(!(y<0||y>=this.width||m<0||m>=this.height))return this.board[m][y]}).filter(a=>a)}expendZero(t){t.adjacentMines||this.getSiblings(t).forEach(a=>{a.revealed||(a.revealed=!0,this.expendZero(a))})}onRightClick(t){t.revealed||(t.flagged=!t.flagged)}onClick(t){if(this.state.value.mineGenerate||(this.generateMines(this.board,t),this.state.value.mineGenerate=!0),t.flagged&&(t.flagged=!1),t.revealed=!0,t.mine){this.onGameOver("lost"),this.showAllMines();return}this.expendZero(t)}onDoubleClick(t){this.autoExpand(t)}showAllMines(){this.board.forEach(t=>{t.forEach(a=>{a.mine&&(a.revealed=!0)})})}autoExpand(t){const a=this.getSiblings(t).reduce((m,x)=>x.flagged?m+=1:m,0);a===t.adjacentMines&&this.getSiblings(t).forEach(m=>{m.flagged||(m.revealed=!0,m.mine&&this.onGameOver("lost"))});const c=t.adjacentMines-a;this.getSiblings(t).reduce((m,x)=>!x.revealed&&!x.flagged?m+=1:m,0)===c&&this.getSiblings(t).forEach(m=>{m.revealed||(m.flagged=!0)})}onGameOver(t){this.state.value.gameState=t,this.state.value.endTime=+Date.now(),t==="lost"&&(this.showAllMines(),setTimeout(()=>{alert("lost")},100))}checkGameState(){if(!this.state.value.mineGenerate||this.state.value.gameState!=="play")return;const t=this.state.value.board.flat();t.every(a=>a.revealed||a.flagged||a.mine)&&(t.some(a=>a.flagged&&!a.mine)?this.onGameOver("lost"):this.onGameOver("won"))}}const Je=_("div",null," minesweeper ",-1),Ke={flex:"","items-center":"","justify-center":""},Qe={"p-3":"",flex:"","items-center":"","justify-center":"","text-2xl":""},Xe=_("div",{"i-carbon-timer":""},null,-1),Ye={"p-3":"",flex:"","items-center":"","justify-center":"","text-2xl":""},er=_("div",{"i-carbon-switch-layer-3":""},null,-1),rr={flex:"~ gap-1","justify-center":""},tr={"p-5":""},ar=W({name:"Minesweeper",__name:"index",setup(k){const t=new He(10,10,5),a=Ae(),c=se(!1),y=je(c),m=J(()=>t.state.value.endTime?Math.round(((+t.state.value.endTime||+a.value)-t.state.value.startTime)/1e3):t.state.value.mineGenerate?Math.round((+a.value-t.state.value.startTime)/1e3):0);Ne("vue-minesweeper",t.state);const x=J(()=>t.board),D=J(()=>t.blocks.reduce((S,b)=>t.state.value.mineGenerate?b.mine?(b.flagged&&(S-=1),S+=1):b.flagged?S-=1:S:t.mines,0));De(()=>{t.checkGameState()});function j(S){switch(S){case"easy":t.reset(9,9,10);break;case"normal":t.reset(16,16,40);break;case"hard":t.reset(16,30,99);break}}return(S,b)=>{const L=qe,z=ze;return T(),B("div",null,[Je,_("div",Ke,[_("div",Qe,[Xe,ne(" "+$(E(m)),1)]),_("div",Ye,[er,ne(" "+$(E(D)),1)])]),_("div",rr,[_("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:b[0]||(b[0]=O=>E(y)())},$(E(c)?"DEV":"NORMAL"),1),_("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:b[1]||(b[1]=O=>E(t).reset())}," NEW GAME "),_("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:b[2]||(b[2]=O=>j("easy"))}," easy "),_("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:b[3]||(b[3]=O=>j("normal"))}," normal "),_("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:b[4]||(b[4]=O=>j("hard"))}," hard ")]),_("div",tr,[(T(!0),B(K,null,ie(E(x),(O,V)=>(T(),B("div",{key:V,flex:"","items-center":"","justify-center":""},[(T(!0),B(K,null,ie(O,(N,g)=>(T(),oe(L,{key:g,"is-dev":E(c),block:N,onClick:G=>E(t).onClick(N),onContextmenu:Le(G=>E(t).onRightClick(N),["prevent"]),onDblclick:G=>E(t).onDoubleClick(N)},null,8,["is-dev","block","onClick","onContextmenu","onDblclick"]))),128))]))),128))]),Ge(z,{passed:E(t).state.value.mineGenerate&&E(t).state.value.gameState==="won"},null,8,["passed"])])}}}),sr=W({description:"æ‰«é›·",__name:"minesweeperPage",setup(k){return(t,a)=>{const c=ar;return T(),oe(c)}}});export{sr as default};
