import{d as C,W as x,w as k,r as d,c as g,o as p,F as m,b as t,f as _,y as w,U as h,s as S,X as M,h as T,k as $,l as y,S as I,i as B,G as N}from"../../assets/index-DOi-xgW3.js";const O=C({__name:"AsyncComponent",async setup(a){let o,r;x(u=>({v78f32466:_(s).bgColor}));function n(){return new Promise((u,l)=>{setTimeout(()=>{u(1)},2e3)})}[o,r]=k(()=>n()),await o,r();const s=d({bgColor:"red"});function i(){s.value.bgColor=s.value.bgColor==="red"?"blue":"red"}function b(){console.log(2)}return b(),(u,l)=>(p(),g(m,null,[l[0]||(l[0]=t("div",{class:"box"}," 测试div ",-1)),t("button",{onClick:i}," 修改颜色 ")],64))}}),V=w(O,[["__scopeId","data-v-65ac6930"]]);function A(a,o=1e3){let r;return(...n)=>{r||(r=setTimeout(()=>{a.apply(this,n),r=null},o))}}function F(a,o=1e3,r=!0){let n;return(...s)=>{if(n&&clearTimeout(n),r){const i=!n;n=setTimeout(()=>{n=void 0},o),i&&a.apply(this,s)}else n=setTimeout(()=>{a.apply(this,s)},o)}}const E=C({description:"IntersectionObserver 提供了一种异步观察目标元素与其祖先元素或顶级文档视口（viewport）交叉状态的方法",__name:"intersectionObserver",setup(a){const o=d();function r(){const c=Math.floor(Math.random()*256),e=Math.floor(Math.random()*256),f=Math.floor(Math.random()*256);return`rgb(${c}, ${e}, ${f})`}h(window,"resize",A(()=>{o.value.style.backgroundColor=r()}));const n=F(()=>{o.value.style.backgroundColor=r()}),s=d(),i=d(),b=d();function u(){const c=new IntersectionObserver(e=>{console.log(e)},{threshold:1});c.observe(s.value),c.observe(i.value)}const l=M();return S(()=>{console.log({instance:l,parent:l?.parent,$parent:l?.proxy?.$parent}),u()}),(c,e)=>{const f=V;return p(),g(m,null,[t("div",{ref_key:"colorChangeRef",ref:o,"bg-red-500":"","h-70":"","w-50":""},null,512),t("button",{"text-white":"","p-3":"","rounded-6":"","bg-blue-500":"",onClick:e[0]||(e[0]=(...v)=>_(n)&&_(n)(...v))}," debounce "),t("div",{ref_key:"interSectionParent",ref:b,"bg-pink-500":"","h-300px":"","w-500px":"",relative:"","overflow-auto":""},[e[1]||(e[1]=t("div",{"bg-purple":"","h-200px":"","w-full":""},null,-1)),t("div",null,[t("div",{ref_key:"interSection1",ref:s,"p-10":"","bg-green-500":""},null,512),t("div",{ref_key:"interSection2",ref:i,"ml-10":"","p-10":"","bg-green":""},null,512)])],512),t("div",null,[(p(),g(m,null,$(10,v=>t("div",{key:v,"inline-block":""},[...e[2]||(e[2]=[t("span",{"bg-blue":""},"asdasd",-1)])])),64)),e[3]||(e[3]=t("input",{type:"text",placeholder:"asdasd"},null,-1)),e[4]||(e[4]=t("input",{type:"text",placeholder:"asdasd"},null,-1))]),(p(),T(I,null,{fallback:y(()=>[...e[5]||(e[5]=[N(" loading ",-1)])]),default:y(()=>[B(f)]),_:1}))],64)}}});export{E as default};
