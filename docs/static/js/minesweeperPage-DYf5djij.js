import{d as W,x as Pe,c as B,b as I,V as Fe,I as _e,F as J,Z as $,j as ie,H as Be,e as E,s as Re,a0 as ae,u as T,f as H,l as ne,g as se,a1 as Oe}from"./vue-BNDGywnP.js";import{e as Ae,u as Ne,f as je}from"../../assets/index-ByPwO6BV.js";import"./particles-DxQy181U.js";import"./shiki-CGx1dPWx.js";var K={};(function k(t,n,h,b){var m=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),x=typeof Path2D=="function"&&typeof DOMMatrix=="function",D=(function(){if(!t.OffscreenCanvas)return!1;try{var r=new OffscreenCanvas(1,1),e=r.getContext("2d");e.fillRect(0,0,1,1);var a=r.transferToImageBitmap();e.createPattern(a,"no-repeat")}catch{return!1}return!0})();function N(){}function S(r){var e=n.exports.Promise,a=e!==void 0?e:t.Promise;return typeof a=="function"?new a(r):(r(N,N),null)}var g=(function(r,e){return{transform:function(a){if(r)return a;if(e.has(a))return e.get(a);var s=new OffscreenCanvas(a.width,a.height),o=s.getContext("2d");return o.drawImage(a,0,0),e.set(a,s),s},clear:function(){e.clear()}}})(D,new Map),L=(function(){var r=Math.floor(16.666666666666668),e,a,s={},o=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(l){var u=Math.random();return s[u]=requestAnimationFrame(function i(c){o===c||o+r-1<c?(o=c,delete s[u],l()):s[u]=requestAnimationFrame(i)}),u},a=function(l){s[l]&&cancelAnimationFrame(s[l])}):(e=function(l){return setTimeout(l,r)},a=function(l){return clearTimeout(l)}),{frame:e,cancel:a}})(),z=(function(){var r,e,a={};function s(o){function l(u,i){o.postMessage({options:u||{},callback:i})}o.init=function(i){var c=i.transferControlToOffscreen();o.postMessage({canvas:c},[c])},o.fire=function(i,c,f){if(e)return l(i,null),e;var M=Math.random().toString(36).slice(2);return e=S(function(v){function y(w){w.data.callback===M&&(delete a[M],o.removeEventListener("message",y),e=null,g.clear(),f(),v())}o.addEventListener("message",y),l(i,M),a[M]=y.bind(null,{data:{callback:M}})}),e},o.reset=function(){o.postMessage({reset:!0});for(var i in a)a[i](),delete a[i]}}return function(){if(r)return r;if(!h&&m){var o=["var CONFETTI, SIZE = {}, module = {};","("+k.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{r=new Worker(URL.createObjectURL(new Blob([o])))}catch(l){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",l),null}s(r)}return r}})(),O={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function V(r,e){return e?e(r):r}function j(r){return r!=null}function p(r,e,a){return V(r&&j(r[e])?r[e]:O[e],a)}function G(r){return r<0?0:Math.floor(r)}function oe(r,e){return Math.floor(Math.random()*(e-r))+r}function U(r){return parseInt(r,16)}function le(r){return r.map(ue)}function ue(r){var e=String(r).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:U(e.substring(0,2)),g:U(e.substring(2,4)),b:U(e.substring(4,6))}}function ce(r){var e=p(r,"origin",Object);return e.x=p(e,"x",Number),e.y=p(e,"y",Number),e}function de(r){r.width=document.documentElement.clientWidth,r.height=document.documentElement.clientHeight}function he(r){var e=r.getBoundingClientRect();r.width=e.width,r.height=e.height}function fe(r){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=r,e}function me(r,e,a,s,o,l,u,i,c){r.save(),r.translate(e,a),r.rotate(l),r.scale(s,o),r.arc(0,0,1,u,i,c),r.restore()}function ve(r){var e=r.angle*(Math.PI/180),a=r.spread*(Math.PI/180);return{x:r.x,y:r.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:r.startVelocity*.5+Math.random()*r.startVelocity,angle2D:-e+(.5*a-Math.random()*a),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:r.color,shape:r.shape,tick:0,totalTicks:r.ticks,decay:r.decay,drift:r.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:r.gravity*3,ovalScalar:.6,scalar:r.scalar,flat:r.flat}}function ge(r,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var a=e.tick++/e.totalTicks,s=e.x+e.random*e.tiltCos,o=e.y+e.random*e.tiltSin,l=e.wobbleX+e.random*e.tiltCos,u=e.wobbleY+e.random*e.tiltSin;if(r.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-a)+")",r.beginPath(),x&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))r.fill(Me(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(l-s)*.1,Math.abs(u-o)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var i=Math.PI/10*e.wobble,c=Math.abs(l-s)*.1,f=Math.abs(u-o)*.1,M=e.shape.bitmap.width*e.scalar,v=e.shape.bitmap.height*e.scalar,y=new DOMMatrix([Math.cos(i)*c,Math.sin(i)*c,-Math.sin(i)*f,Math.cos(i)*f,e.x,e.y]);y.multiplySelf(new DOMMatrix(e.shape.matrix));var w=r.createPattern(g.transform(e.shape.bitmap),"no-repeat");w.setTransform(y),r.globalAlpha=1-a,r.fillStyle=w,r.fillRect(e.x-M/2,e.y-v/2,M,v),r.globalAlpha=1}else if(e.shape==="circle")r.ellipse?r.ellipse(e.x,e.y,Math.abs(l-s)*e.ovalScalar,Math.abs(u-o)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):me(r,e.x,e.y,Math.abs(l-s)*e.ovalScalar,Math.abs(u-o)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var d=Math.PI/2*3,C=4*e.scalar,P=8*e.scalar,F=e.x,R=e.y,A=5,_=Math.PI/A;A--;)F=e.x+Math.cos(d)*P,R=e.y+Math.sin(d)*P,r.lineTo(F,R),d+=_,F=e.x+Math.cos(d)*C,R=e.y+Math.sin(d)*C,r.lineTo(F,R),d+=_;else r.moveTo(Math.floor(e.x),Math.floor(e.y)),r.lineTo(Math.floor(e.wobbleX),Math.floor(o)),r.lineTo(Math.floor(l),Math.floor(u)),r.lineTo(Math.floor(s),Math.floor(e.wobbleY));return r.closePath(),r.fill(),e.tick<e.totalTicks}function pe(r,e,a,s,o){var l=e.slice(),u=r.getContext("2d"),i,c,f=S(function(M){function v(){i=c=null,u.clearRect(0,0,s.width,s.height),g.clear(),o(),M()}function y(){h&&!(s.width===b.width&&s.height===b.height)&&(s.width=r.width=b.width,s.height=r.height=b.height),!s.width&&!s.height&&(a(r),s.width=r.width,s.height=r.height),u.clearRect(0,0,s.width,s.height),l=l.filter(function(w){return ge(u,w)}),l.length?i=L.frame(y):v()}i=L.frame(y),c=v});return{addFettis:function(M){return l=l.concat(M),f},canvas:r,promise:f,reset:function(){i&&L.cancel(i),c&&c()}}}function Q(r,e){var a=!r,s=!!p(e||{},"resize"),o=!1,l=p(e,"disableForReducedMotion",Boolean),u=m&&!!p(e||{},"useWorker"),i=u?z():null,c=a?de:he,f=r&&i?!!r.__confetti_initialized:!1,M=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,v;function y(d,C,P){for(var F=p(d,"particleCount",G),R=p(d,"angle",Number),A=p(d,"spread",Number),_=p(d,"startVelocity",Number),we=p(d,"decay",Number),xe=p(d,"gravity",Number),Ce=p(d,"drift",Number),Y=p(d,"colors",le),ke=p(d,"ticks",Number),ee=p(d,"shapes"),Ee=p(d,"scalar"),Te=!!p(d,"flat"),re=ce(d),te=F,q=[],Ie=r.width*re.x,Se=r.height*re.y;te--;)q.push(ve({x:Ie,y:Se,angle:R,spread:A,startVelocity:_,color:Y[te%Y.length],shape:ee[oe(0,ee.length)],ticks:ke,decay:we,gravity:xe,drift:Ce,scalar:Ee,flat:Te}));return v?v.addFettis(q):(v=pe(r,q,c,C,P),v.promise)}function w(d){var C=l||p(d,"disableForReducedMotion",Boolean),P=p(d,"zIndex",Number);if(C&&M)return S(function(_){_()});a&&v?r=v.canvas:a&&!r&&(r=fe(P),document.body.appendChild(r)),s&&!f&&c(r);var F={width:r.width,height:r.height};i&&!f&&i.init(r),f=!0,i&&(r.__confetti_initialized=!0);function R(){if(i){var _={getBoundingClientRect:function(){if(!a)return r.getBoundingClientRect()}};c(_),i.postMessage({resize:{width:_.width,height:_.height}});return}F.width=F.height=null}function A(){v=null,s&&(o=!1,t.removeEventListener("resize",R)),a&&r&&(document.body.contains(r)&&document.body.removeChild(r),r=null,f=!1)}return s&&!o&&(o=!0,t.addEventListener("resize",R,!1)),i?i.fire(d,F,A):y(d,F,A)}return w.reset=function(){i&&i.reset(),v&&v.reset()},w}var Z;function X(){return Z||(Z=Q(null,{useWorker:!0,resize:!0})),Z}function Me(r,e,a,s,o,l,u){var i=new Path2D(r),c=new Path2D;c.addPath(i,new DOMMatrix(e));var f=new Path2D;return f.addPath(c,new DOMMatrix([Math.cos(u)*o,Math.sin(u)*o,-Math.sin(u)*l,Math.cos(u)*l,a,s])),f}function ye(r){if(!x)throw new Error("path confetti are not supported in this browser");var e,a;typeof r=="string"?e=r:(e=r.path,a=r.matrix);var s=new Path2D(e),o=document.createElement("canvas"),l=o.getContext("2d");if(!a){for(var u=1e3,i=u,c=u,f=0,M=0,v,y,w=0;w<u;w+=2)for(var d=0;d<u;d+=2)l.isPointInPath(s,w,d,"nonzero")&&(i=Math.min(i,w),c=Math.min(c,d),f=Math.max(f,w),M=Math.max(M,d));v=f-i,y=M-c;var C=10,P=Math.min(C/v,C/y);a=[P,0,0,P,-Math.round(v/2+i)*P,-Math.round(y/2+c)*P]}return{type:"path",path:e,matrix:a}}function be(r){var e,a=1,s="#000000",o='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof r=="string"?e=r:(e=r.text,a="scalar"in r?r.scalar:a,o="fontFamily"in r?r.fontFamily:o,s="color"in r?r.color:s);var l=10*a,u=""+l+"px "+o,i=new OffscreenCanvas(l,l),c=i.getContext("2d");c.font=u;var f=c.measureText(e),M=Math.ceil(f.actualBoundingBoxRight+f.actualBoundingBoxLeft),v=Math.ceil(f.actualBoundingBoxAscent+f.actualBoundingBoxDescent),y=2,w=f.actualBoundingBoxLeft+y,d=f.actualBoundingBoxAscent+y;M+=y+y,v+=y+y,i=new OffscreenCanvas(M,v),c=i.getContext("2d"),c.font=u,c.fillStyle=s,c.fillText(e,w,d);var C=1/a;return{type:"bitmap",bitmap:i.transferToImageBitmap(),matrix:[C,0,0,C,-M*C/2,-v*C/2]}}n.exports=function(){return X().apply(this,arguments)},n.exports.reset=function(){X().reset()},n.exports.create=Q,n.exports.shapeFromPath=ye,n.exports.shapeFromText=be})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),K,!1);const De=K.exports;K.exports.create;const Le={id:"fireworks",class:"fixed top-0 z--1 h-100vh w-100vw"},Ge=W({name:"Fireworks",__name:"index",props:{passed:{type:Boolean}},setup(k){const t=k;function n(){const h=document.getElementById("fireworks");De.create(h,{resize:!0,useWorker:!0})({particleCount:100,spread:70,origin:{y:.6}})}return Pe(()=>t.passed,h=>{setTimeout(()=>{n()},100)},{flush:"post"}),(h,b)=>(I(),B("canvas",Le))}}),$e={key:0},We={key:0},ze={key:1,"font-bold":""},Ve=W({name:"MineBlock",__name:"MineBlock",props:{block:{},isDev:{type:Boolean}},setup(k){const t=["text-trans","text-red-500","text-blue-500","text-yellow-500","text-purple-500","text-pink-500","text-orange-500","text-teal-500"];function n(h){return h.revealed?h.mine?"bg-red/50":t[h.adjacentMines]:"bg-gray/50 hover:bg-gray/10"}return(h,b)=>(I(),B("button",{m:"0.5","h-10":"","w-10":"",flex:"","items-center":"","justify-center":"",border:"",class:Fe(n(k.block))},[k.block.flagged?(I(),B("div",$e," ðŸš© ")):k.block.revealed||k.isDev?(I(),B(J,{key:1},[k.block.mine?(I(),B("div",We," ðŸ’£ ")):(I(),B("div",ze,$(k.block.adjacentMines||""),1))],64)):_e("",!0)],2))}});class Ue{constructor(t,n,h){this.width=t,this.height=n,this.mines=h,this.state=ie(),this.directions=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]],this.reset()}get board(){return this.state.value.board}get blocks(){return this.state.value.board.flat()}reset(t=this.width,n=this.height,h=this.mines){this.width=t,this.height=n,this.mines=h,this.state.value={board:Array.from({length:this.height},(b,m)=>Array.from({length:this.width},(x,D)=>({x:D,y:m,adjacentMines:0,revealed:!1}))),gameState:"play",mineGenerate:!1,startTime:+Date.now()}}random(t,n){return Math.random()*(n-t)+t}randomInt(t,n){return Math.round(this.random(t,n))}generateMines(t,n){const h=()=>{const b=this.randomInt(0,this.width-1),m=this.randomInt(0,this.height-1),x=t[m][b];return Math.abs(n.x-x.x)<=1&&Math.abs(n.y-x.y)<=1||x.mine?!1:(x.mine=!0,!0)};Array.from({length:this.mines}).forEach(()=>{for(;!h(););}),this.updateNumbers(t)}updateNumbers(t){t.forEach(n=>{n.forEach(h=>{h.mine||this.getSiblings(h).forEach(b=>{b.mine&&h.adjacentMines++})})})}getSiblings(t){return this.directions.map(([n,h])=>{const b=t.x+n,m=t.y+h;if(!(b<0||b>=this.width||m<0||m>=this.height))return this.board[m][b]}).filter(n=>n)}expendZero(t){t.adjacentMines||this.getSiblings(t).forEach(n=>{n.revealed||(n.revealed=!0,this.expendZero(n))})}onRightClick(t){t.revealed||(t.flagged=!t.flagged)}onClick(t){if(this.state.value.mineGenerate||(this.generateMines(this.board,t),this.state.value.mineGenerate=!0),t.flagged&&(t.flagged=!1),t.revealed=!0,t.mine){this.onGameOver("lost"),this.showAllMines();return}this.expendZero(t)}onDoubleClick(t){this.autoExpand(t)}showAllMines(){this.board.forEach(t=>{t.forEach(n=>{n.mine&&(n.revealed=!0)})})}autoExpand(t){const n=this.getSiblings(t).reduce((m,x)=>x.flagged?m+=1:m,0);n===t.adjacentMines&&this.getSiblings(t).forEach(m=>{m.flagged||(m.revealed=!0,m.mine&&this.onGameOver("lost"))});const h=t.adjacentMines-n;this.getSiblings(t).reduce((m,x)=>!x.revealed&&!x.flagged?m+=1:m,0)===h&&this.getSiblings(t).forEach(m=>{m.revealed||(m.flagged=!0)})}onGameOver(t){this.state.value.gameState=t,this.state.value.endTime=+Date.now(),t==="lost"&&(this.showAllMines(),setTimeout(()=>{alert("lost")},100))}checkGameState(){if(!this.state.value.mineGenerate||this.state.value.gameState!=="play")return;const t=this.state.value.board.flat();t.every(n=>n.revealed||n.flagged||n.mine)&&(t.some(n=>n.flagged&&!n.mine)?this.onGameOver("lost"):this.onGameOver("won"))}}const Ze={flex:"","items-center":"","justify-center":""},qe={"p-3":"",flex:"","items-center":"","justify-center":"","text-2xl":""},He={"p-3":"",flex:"","items-center":"","justify-center":"","text-2xl":""},Je={flex:"~ gap-1","justify-center":""},Ke={"p-5":""},Qe=W({name:"Minesweeper",__name:"index",setup(k){const t=new Ue(10,10,5),n=je(),h=ie(!1),b=Ne(h),m=H(()=>t.state.value.endTime?Math.round(((+t.state.value.endTime||+n.value)-t.state.value.startTime)/1e3):t.state.value.mineGenerate?Math.round((+n.value-t.state.value.startTime)/1e3):0);Ae("vue-minesweeper",t.state);const x=H(()=>t.board),D=H(()=>t.blocks.reduce((S,g)=>t.state.value.mineGenerate?g.mine?(g.flagged&&(S-=1),S+=1):g.flagged?S-=1:S:t.mines,0));Be(()=>{t.checkGameState()});function N(S){switch(S){case"easy":t.reset(9,9,10);break;case"normal":t.reset(16,16,40);break;case"hard":t.reset(16,30,99);break}}return(S,g)=>{const L=Ve,z=Ge;return I(),B("div",null,[g[7]||(g[7]=E("div",null," minesweeper ",-1)),E("div",Ze,[E("div",qe,[g[5]||(g[5]=E("div",{"i-carbon-timer":""},null,-1)),ae(" "+$(T(m)),1)]),E("div",He,[g[6]||(g[6]=E("div",{"i-carbon-switch-layer-3":""},null,-1)),ae(" "+$(T(D)),1)])]),E("div",Je,[E("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:g[0]||(g[0]=O=>T(b)())},$(T(h)?"DEV":"NORMAL"),1),E("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:g[1]||(g[1]=O=>T(t).reset())}," NEW GAME "),E("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:g[2]||(g[2]=O=>N("easy"))}," easy "),E("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:g[3]||(g[3]=O=>N("normal"))}," normal "),E("button",{"bg-green-500":"","p-1":"",rounded:"","text-black":"",onClick:g[4]||(g[4]=O=>N("hard"))}," hard ")]),E("div",Ke,[(I(!0),B(J,null,ne(T(x),(O,V)=>(I(),B("div",{key:V,flex:"","items-center":"","justify-center":""},[(I(!0),B(J,null,ne(O,(j,p)=>(I(),se(L,{key:p,"is-dev":T(h),block:j,onClick:G=>T(t).onClick(j),onContextmenu:Oe(G=>T(t).onRightClick(j),["prevent"]),onDblclick:G=>T(t).onDoubleClick(j)},null,8,["is-dev","block","onClick","onContextmenu","onDblclick"]))),128))]))),128))]),Re(z,{passed:T(t).state.value.mineGenerate&&T(t).state.value.gameState==="won"},null,8,["passed"])])}}}),tr=W({description:"æ‰«é›·",__name:"minesweeperPage",setup(k){return(t,n)=>{const h=Qe;return I(),se(h)}}});export{tr as default};
