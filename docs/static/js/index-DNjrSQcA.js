import{d as D,c as u,o as n,I as O,n as N,J as C,r as $,h as T,i as h,T as S,l as c,A as g,b as a,x as L,f as t,C as x,t as v,G as V,K as A,E as K,L as U,M as q,N as G,z as P,O as J,F as w,k as z,B as Q}from"../../assets/index-BaHEQj1m.js";import{u as W}from"./useDrag-BCrUbi9p.js";import{_ as X}from"./AliveKeep.vue_vue_type_script_lang-BSN1CV7Q.js";const Y={key:1},Z=D({name:"Overlayer",__name:"index",props:{mask:{required:!0},maskClass:{type:Object}},emits:["click"],setup(e,{emit:r}){const s=r;function m(o){s("click",o)}return(o,i)=>e.mask?(n(),u("div",{key:0,class:N(["mask_container",e.maskClass]),onClick:O(m,["self"])},[C(o.$slots,"default")],2)):(n(),u("div",Y,[C(o.$slots,"default")]))}});function ee(e){return typeof e=="number"&&!Number.isFinite(e)}const te=["x","y"],ae={class:"modal-title-text"},oe=D({name:"Modal",__name:"index",props:{modelValue:{type:Boolean},appendTo:{},title:{},width:{default:500},showMask:{type:Boolean,default:!0},drag:{type:Boolean,default:!0},maskClass:{},clickMaskClose:{type:Boolean,default:!0},footerClass:{},class:{},style:{},content:{}},emits:["update:modelValue"],setup(e,{emit:r}){const s=e,m=r,o=$(),i=x(()=>ee(s.width)?`${s.width}px`:s.width),{x:b,y:p}=W(o),B=x(()=>Object.assign({},s.style,{transform:s.drag&&`translate(${b.value}px, ${p.value}px)`})),M=x(()=>({width:i.value}));function _(){m("update:modelValue",!1)}function R(){s.clickMaskClose&&_()}return(d,k)=>{const E=Z;return n(),T(A,{to:e.appendTo,disabled:!e.appendTo},[h(S,{name:"modal-fade"},{default:c(()=>[e.modelValue?(n(),T(E,{key:0,mask:e.showMask,"mask-class":e.maskClass,onClick:R},{default:c(()=>[a("div",{x:t(b),y:t(p),style:L(t(B)),class:N(["modal-container",s.class])},[a("header",{ref_key:"dragEle",ref:o,class:"modal-header",style:L({cursor:e.drag?"move":"default"})},[d.$slots.header?C(d.$slots,"header",{key:0},()=>[a("span",ae,v(e.title),1)]):g("",!0),a("div",{class:"modal-close",onClick:_,onPointerdown:k[0]||(k[0]=O(f=>{},["stop"]))},null,32)],4),a("div",{class:"modal-content",style:L(t(M))},[d.$slots.default?C(d.$slots,"default",{key:0},()=>[V(v(e.content),1)]):g("",!0)],4),a("footer",{class:N(["modal-footer",e.footerClass])},[d.$slots.footer?C(d.$slots,"footer",{key:0}):g("",!0)],2)],14,te)]),_:3},8,["mask","mask-class"])):g("",!0)]),_:3})],8,["to","disabled"])}}}),se={class:"mb-8px h-46px flex items-center justify-center py-5px"},le={class:"text-20px font-bold"},ne={class:"relative overflow-hidden"},re={class:"fixed bottom-0 left-0 right-0 flex items-center justify-between px-2 text-left text-26px"},de=D({__name:"index",setup(e){const r=K(),s=U(),m=$(!1),o=$(!1),i=r.options.routes.find(f=>f.path==="/demoChallenge").children.map(({name:f,path:y})=>({path:y,label:f})),b=q(()=>{r.currentRoute.value.fullPath==="/demoChallenge"&&r.replace(i[0].path)}),p=x(()=>i.findIndex(f=>f.path===r.currentRoute.value.fullPath)),B=x(()=>[i[p.value-1],i[p.value],i[p.value+1]].filter(Boolean));function M(){r.back()}function _(){m.value=!0}function R(){m.value=!1}function d(){o.value=!0}const k=$(!0);r.beforeEach(()=>{o.value=!1});const E=x(()=>s.fullPath.split("/").at(-1));return G(()=>{b()}),(f,y)=>{const j=X,F=P("RouterView"),H=P("RouterLink"),I=oe;return n(),u(w,null,[a("header",se,[a("div",{text:"hover:gray-200 gray-400",class:"absolute left-0 h-30px inline-30px hover:cursor-pointer","i-carbon-chevron-left":"",onClick:M}),a("div",le,v(t(E)),1)]),a("main",ne,[h(F,null,{default:c(({Component:l})=>[h(S,{name:"demo-page"},{default:c(()=>[(n(),u("div",{key:t(s).path,"h-full":"","w-full":""},[h(j,null,{default:c(()=>[(n(),T(J(l)))]),_:2},1024)]))]),_:2},1024)]),_:1})]),a("footer",re,[a("div",{class:"z-2 cursor-pointer",onPointerenter:_,onPointerleave:R},[t(m)?(n(!0),u(w,{key:0},z(t(B),l=>(n(),u("div",{key:l.path},[h(H,{to:l.path,replace:""},{default:c(()=>[V(v(l.label),1)]),_:2},1032,["to"])]))),128)):(n(),u(w,{key:1},[V(v(t(i)[t(p)]?.label),1)],64))],32),a("div",{class:"z-2 cursor-pointer",onClick:d}," list ")]),h(I,{modelValue:t(o),"onUpdate:modelValue":y[1]||(y[1]=l=>Q(o)?o.value=l:null),title:"demoList",drag:t(k)},{footer:c(()=>[a("button",{class:"basicBtn",onClick:y[0]||(y[0]=l=>k.value=!t(k))}," 切换拖拽 "+v(t(k)),1)]),default:c(()=>[a("div",null,[(n(!0),u(w,null,z(t(i),l=>(n(),u("p",{key:l.path,"hover:text":"[var(--primary)]"},[h(H,{to:l.path},{default:c(()=>[V(v(l.label),1)]),_:2},1032,["to"])]))),128))])]),_:1},8,["modelValue","drag"])],64)}}});export{de as default};
