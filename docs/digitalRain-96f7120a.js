import{r as c}from"./random-99138415.js";import{d as w,i as u,I as x,o as y,a as S,b as d,f as h}from"./index-6781ab18.js";const C={relative:""},k=["width","height"],o=24,E=5,R=w({name:"DigitalRain",__name:"digitalRain",setup(M){const n=u(0),i=u(0),f=u();n.value=window.innerWidth-32,i.value=window.innerHeight-52-40-50;const l=Math.ceil(i.value/o),v=Math.ceil(n.value/o),_=Array.from({length:v}).map(e=>({index:c(0,l),length:c(l/2,l+20)}));let t;function g(){function e(){t=f.value.getContext("2d"),t.fillStyle="#000",t.fillRect(0,0,n.value,i.value),a()}e(),window.addEventListener("resize",()=>{n.value=window.innerWidth-32,i.value=window.innerHeight-52-40-50})}let r=0;function a(){if(r++,r!==0&&r<E){requestAnimationFrame(a);return}r=0,t.beginPath(),m(),_.forEach((e,s)=>{b(s*o,e.index*o),e.index++,e.index>=e.length&&(e.index=0,e.length=c(0,l))}),t.closePath(),requestAnimationFrame(a)}function m(){t.fillStyle="rgba(0, 0, 0, 0.1)",t.fillRect(0,0,n.value,i.value)}function b(e,s){t.fillStyle="#087b15",t.font=`${o}px STheiti, SimHei`;const p=c(1,9);t.fillText(`${p}`,e,s)}return x(()=>{g()}),(e,s)=>(y(),S("div",C,[d("canvas",{ref_key:"canvasEl",ref:f,width:h(n),height:h(i),bg:"#000"},null,8,k),d("div",{absolute:"","top-0":"","left-0":"","right-0":"","op-0":"","hover:op-100":"","transition-opacity":""},[d("button",{class:"basic-btn",onClick:a}," next "),d("button",{class:"basic-btn","m-l-2":"",onClick:a}," reload ")])]))}}),H=Object.freeze(Object.defineProperty({__proto__:null,default:R},Symbol.toStringTag,{value:"Module"}));export{H as _};
